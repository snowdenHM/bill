{"version":3,"file":"peity-vanilla.js","sources":["../src/utils.js","../src/peity.js","../src/renderers/pie.js","../src/renderers/bar.js","../src/renderers/line.js","../src/index.js"],"sourcesContent":["export const isFunction = (o) =>\n  o !== null && typeof o === \"function\" && !!o.apply;\n\nexport const svgElement = (tag, attrs) => {\n  const element = document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n  for (var attr in attrs) {\n    element.setAttribute(attr, attrs[attr]);\n  }\n  return element;\n};\n\nexport const svgSupported =\n  \"createElementNS\" in document && svgElement(\"svg\", {}).createSVGRect();\n","import { isFunction, svgElement, svgSupported } from \"./utils\";\n\nclass Peity {\n  static defaults = {};\n  static graphers = {};\n\n  constructor(element, type, options = {}) {\n    this.element = element;\n    this.type = type;\n    this.options = Object.assign(\n      {},\n      Peity.defaults[this.type],\n      JSON.parse(element.dataset[\"peity\"] || \"{}\"),\n      options\n    );\n\n    if(this.element._peity) {\n      this.element._peity.destroy();\n    }\n    this.element._peity = this;\n  }\n\n  draw() {\n    const options = this.options;\n    Peity.graphers[this.type](this);\n    if (isFunction(options.after)) options.after.call(this, options);\n  }\n\n  fill() {\n    var fill = this.options.fill;\n\n    return isFunction(fill)\n      ? fill\n      : function (_, i) {\n          return fill[i % fill.length];\n        };\n  }\n\n  prepare(width, height) {\n    if (!this.svg) {\n      this.element.style.display = \"none\";\n      this.element.after(\n        (this.svg = svgElement(\"svg\", {\n          class: \"peity\",\n        }))\n      );\n    }\n\n    this.svg.innerHTML = \"\";\n    this.svg.setAttribute(\"width\", width);\n    this.svg.setAttribute(\"height\", height);\n\n    return this.svg;\n  }\n\n  get values() {\n    return this.element.innerText\n      .split(this.options.delimiter)\n      .map((value) => parseFloat(value));\n  }\n\n  mount() {\n    if (!svgSupported) return;\n\n    this.element.addEventListener(\"DOMSubtreeModified\", this.draw.bind(this));\n    this.draw();\n\n    this.mounted = true;\n  }\n\n  unmount() {\n    this.element.removeEventListener(\"DOMSubtreeModified\", this.draw);\n    this.svg.remove();\n    this.mounted = false;\n  }\n\n  destroy() {\n    this.unmount();\n\n    delete this.element._peity;\n  }\n\n  static register(type, defaults, grapher) {\n    Peity.defaults[type] = defaults;\n    Peity.graphers[type] = grapher;\n  }\n}\n\nexport default Peity;\n","import { svgElement } from \"../utils\";\n\nexport const renderer = (peity) => {\n  if (!peity.options.delimiter) {\n    const delimiter = peity.element.innerText.match(/[^0-9\\.]/);\n    peity.options.delimiter = delimiter ? delimiter[0] : \",\";\n  }\n\n  let values = peity.values.map((n) => (n > 0 ? n : 0));\n\n  if (peity.options.delimiter == \"/\") {\n    let v1 = values[0];\n    let v2 = values[1];\n    values = [v1, Math.max(0, v2 - v1)];\n  }\n\n  let i = 0;\n  let length = values.length;\n  let sum = 0;\n\n  for (; i < length; i++) {\n    sum += values[i];\n  }\n\n  if (!sum) {\n    length = 2;\n    sum = 1;\n    values = [0, 1];\n  }\n\n  let diameter = peity.options.radius * 2;\n\n  const svg = peity.prepare(\n    peity.options.width || diameter,\n    peity.options.height || diameter\n  );\n\n  const width = svg.clientWidth;\n  const height = svg.clientHeight;\n  const cx = width / 2;\n  const cy = height / 2;\n\n  const radius = Math.min(cx, cy);\n  let innerRadius = peity.options.innerRadius;\n\n  if (peity.type == \"donut\" && !innerRadius) {\n    innerRadius = radius * 0.5;\n  }\n\n  const fill = peity.fill();\n\n  const scale = (value, radius) => {\n    const radians = (value / sum) * Math.PI * 2 - Math.PI / 2;\n\n    return [radius * Math.cos(radians) + cx, radius * Math.sin(radians) + cy];\n  };\n\n  let cumulative = 0;\n\n  for (i = 0; i < length; i++) {\n    const value = values[i];\n    const portion = value / sum;\n    let node;\n\n    if (portion == 0) continue;\n\n    if (portion == 1) {\n      if (innerRadius) {\n        const x2 = cx - 0.01;\n        const y1 = cy - radius;\n        const y2 = cy - innerRadius;\n\n        node = svgElement(\"path\", {\n          d: [\n            \"M\",\n            cx,\n            y1,\n            \"A\",\n            radius,\n            radius,\n            0,\n            1,\n            1,\n            x2,\n            y1,\n            \"L\",\n            x2,\n            y2,\n            \"A\",\n            innerRadius,\n            innerRadius,\n            0,\n            1,\n            0,\n            cx,\n            y2,\n          ].join(\" \"),\n          \"data-value\": value,\n        });\n      } else {\n        node = svgElement(\"circle\", {\n          cx: cx,\n          cy: cy,\n          \"data-value\": value,\n          r: radius,\n        });\n      }\n    } else {\n      const cumulativePlusValue = cumulative + value;\n\n      let d = [\"M\"].concat(\n        scale(cumulative, radius),\n        \"A\",\n        radius,\n        radius,\n        0,\n        portion > 0.5 ? 1 : 0,\n        1,\n        scale(cumulativePlusValue, radius),\n        \"L\"\n      );\n\n      if (innerRadius) {\n        d = d.concat(\n          scale(cumulativePlusValue, innerRadius),\n          \"A\",\n          innerRadius,\n          innerRadius,\n          0,\n          portion > 0.5 ? 1 : 0,\n          0,\n          scale(cumulative, innerRadius)\n        );\n      } else {\n        d.push(cx, cy);\n      }\n\n      cumulative += value;\n\n      node = svgElement(\"path\", {\n        d: d.join(\" \"),\n        \"data-value\": value,\n      });\n    }\n\n    node.setAttribute(\"fill\", fill.call(peity, value, i, values));\n\n    svg.append(node);\n  }\n};\n\nexport const defaults = {\n  fill: [\"#ff9900\", \"#fff4dd\", \"#ffc66e\"],\n  radius: 8,\n};\n","import { svgElement } from \"../utils\";\n\nexport const renderer = (peity) => {\n  const values = peity.values;\n  const max = Math.max.apply(\n    Math,\n    peity.options.max == undefined ? values : values.concat(peity.options.max)\n  );\n  const min = Math.min.apply(\n    Math,\n    peity.options.min == undefined ? values : values.concat(peity.options.min)\n  );\n\n  const svg = peity.prepare(peity.options.width, peity.options.height);\n  const width = svg.clientWidth;\n  const height = svg.clientHeight;\n  const diff = max - min;\n  const padding = peity.options.padding;\n  const fill = peity.fill();\n\n  const xScale = (input) => {\n    return (input * width) / values.length;\n  };\n\n  const yScale = (input) => {\n    return height - (diff ? ((input - min) / diff) * height : 1);\n  };\n\n  for (var i = 0; i < values.length; i++) {\n    let x = xScale(i + padding);\n    let w = xScale(i + 1 - padding) - x;\n    let value = values[i];\n    let valueY = yScale(value);\n    let y1 = valueY;\n    let y2 = valueY;\n    let h;\n\n    if (!diff) {\n      h = 1;\n    } else if (value < 0) {\n      y1 = yScale(Math.min(max, 0));\n    } else {\n      y2 = yScale(Math.max(min, 0));\n    }\n\n    h = y2 - y1;\n\n    if (h == 0) {\n      h = 1;\n      if (max > 0 && diff) y1--;\n    }\n\n    svg.append(\n      svgElement(\"rect\", {\n        \"data-value\": value,\n        fill: fill.call(peity, value, i, values),\n        x: x,\n        y: y1,\n        width: w,\n        height: h,\n      })\n    );\n  }\n};\n\nexport const defaults = {\n  delimiter: \",\",\n  fill: [\"#4D89F9\"],\n  height: 16,\n  min: 0,\n  padding: 0.1,\n  width: 32,\n};\n","import { svgElement } from \"../utils\";\n\nexport const renderer = (peity) => {\n  const values = peity.values;\n  if (values.length == 1) values.push(values[0]);\n  const max = Math.max.apply(\n    Math,\n    peity.options.max == undefined ? values : values.concat(peity.options.max)\n  );\n  const min = Math.min.apply(\n    Math,\n    peity.options.min == undefined ? values : values.concat(peity.options.min)\n  );\n\n  const svg = peity.prepare(peity.options.width, peity.options.height);\n  const strokeWidth = peity.options.strokeWidth;\n  const width = svg.clientWidth;\n  const height = svg.clientHeight - strokeWidth;\n  const diff = max - min;\n\n  const xScale = (input) => {\n    return input * (width / (values.length - 1));\n  };\n\n  const yScale = (input) => {\n    let y = height;\n\n    if (diff) {\n      y -= ((input - min) / diff) * height;\n    }\n\n    return y + strokeWidth / 2;\n  };\n\n  let zero = yScale(Math.max(min, 0));\n  let coords = [0, zero];\n\n  for (var i = 0; i < values.length; i++) {\n    coords.push(xScale(i), yScale(values[i]));\n  }\n\n  coords.push(width, zero);\n\n  if (peity.options.fill) {\n    svg.append(\n      svgElement(\"polygon\", {\n        fill: peity.options.fill,\n        points: coords.join(\" \"),\n      })\n    );\n  }\n\n  if (strokeWidth) {\n    svg.append(\n      svgElement(\"polyline\", {\n        fill: \"none\",\n        points: coords.slice(2, coords.length - 2).join(\" \"),\n        stroke: peity.options.stroke,\n        \"stroke-width\": strokeWidth,\n        \"stroke-linecap\": \"square\",\n      })\n    );\n  }\n};\n\nexport const defaults = {\n  delimiter: \",\",\n  fill: \"#c6d9fd\",\n  height: 16,\n  min: 0,\n  stroke: \"#4d89f9\",\n  strokeWidth: 1,\n  width: 32,\n};\n","import Peity from \"./peity\";\r\nimport * as pie from \"./renderers/pie\";\r\nimport * as bar from \"./renderers/bar\";\r\nimport * as line from \"./renderers/line\";\r\n\r\nPeity.register(\"pie\", pie.defaults, pie.renderer);\r\nPeity.register(\"donut\", pie.defaults, pie.renderer);\r\nPeity.register(\"bar\", bar.defaults, bar.renderer);\r\nPeity.register(\"line\", line.defaults, line.renderer);\r\n\r\nexport * from \"./peity\";\r\n\r\nconst peity = function (element, type, options) {\r\n  const peity = new Peity(element, type, options);\r\n  peity.mount();\r\n\r\n  return peity;\r\n};\r\n\r\npeity.defaults = Peity.defaults;\r\npeity.graphers = Peity.graphers;\r\n\r\nexport default peity;\r\n"],"names":["renderer","defaults","pie.defaults","pie.renderer","bar.defaults","bar.renderer","line.defaults","line.renderer"],"mappings":"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"}