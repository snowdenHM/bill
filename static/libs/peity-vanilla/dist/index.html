<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Peity Vanilla Charts</title>
    <script type="text/javascript" src="peity-vanilla.min.js"></script>

    <style>
      .container {
        max-width: 800px;
        margin: 0 auto;
      }

      .columns {
        display: flex;
      }

      .column {
        width: 40%;
      }
    </style>
  </head>

  <body class="container">
    <h1>Peity Vanilla Charts</h1>
    <div class="columns">
      <div class="column">
        <h2>Line</h2>
        <span class="line">5,3,9,6,5,9,7,3,5,2,3,5,5,1,-2</span>
        <span class="line">5,3,2,-1,-3,-2,2,3,5,2</span>
        <span class="line">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
        <span
          class="line"
          data-peity='{ "fill": "blue", "stroke": "red", "width": 50 }'
          >5,3,9,6,5,9,7,3,5,2,3,5,5,1</span
        >

        <h2>Pie</h2>
        <span class="pie">1/5</span>
        <span class="pie">226/360</span>
        <span class="pie">0.52/1.561</span>
        <span class="pie">1,4</span>
        <span class="pie">226,134</span>
        <span class="pie">0.52,1.041</span>
        <span class="pie">1,2,3,2,2</span>

        <h2>Donut</h2>
        <span class="donut">1/5</span>
        <span class="donut">226/360</span>
        <span class="donut">0.52/1.561</span>
        <span class="donut">1,4</span>
        <span class="donut">226,134</span>
        <span class="donut">0.52,1.041</span>
        <span class="donut">1,2,3,2,2</span>

        <h2>Bar</h2>
        <span class="bar">5,3,9,6,5,9,7,3,5,2</span>
        <span class="bar">5,3,2,-1,-3,-2,2,3,5,2</span>
        <span class="bar">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>

        <h2>Updatting Charts</h2>
        <span id="updating-chart">5,3,9,6,5,9,7,3,5,2,5,3,9,6,5,9,7,3,5,2</span>
      </div>

      <div class="column">
        <h2>Color Options</h2>
        <span class="bar-colours-1">5,3,9,6,5,9,7,3,5,2</span>
        <span class="bar-colours-2">5,3,2,-1,-3,-2,2,3,5,2,5,3,2,-1,-3</span>
        <span class="bar-colours-3">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
        <span class="pie-colours-1">4,7,6,5</span>
        <span class="pie-colours-2">5,3,9,6,5</span>

        <h2>Other Options</h2>
        <p class="data-attributes">
          <span
            data-peity='{ "fill": ["red", "#eeeeee"],    "innerRadius": 10, "radius": 40 }'
            >1/7</span
          >
          <span
            data-peity='{ "fill": ["orange", "#eeeeee"], "innerRadius": 14, "radius": 36 }'
            >2/7</span
          >
          <span
            data-peity='{ "fill": ["yellow", "#eeeeee"], "innerRadius": 16, "radius": 32 }'
            >3/7</span
          >
          <span
            data-peity='{ "fill": ["green", "#eeeeee"],  "innerRadius": 18, "radius": 28 }'
            >4/7</span
          >
          <span
            data-peity='{ "fill": ["blue", "#eeeeee"],   "innerRadius": 20, "radius": 24 }'
            >5/7</span
          >
          <span
            data-peity='{ "fill": ["violet", "#eeeeee"], "innerRadius": 15, "radius": 16 }'
            >7/7</span
          >
        </p>
      </div>
    </div>

    <script>
      peity.defaults.pie = {
        delimiter: null,
        fill: ["#58508d", "#ffa600", "#ff6361"],
        height: null,
        radius: 8,
        width: null,
      };

      peity.defaults.donut = {
        delimiter: null,
        fill: ["#ff9900", "#fff4dd", "#ffd592"],
        height: null,
        innerRadius: null,
        radius: 8,
        width: null,
      };

      peity.defaults.line = {
        delimiter: ",",
        fill: "#fff4dd",
        height: 16,
        max: null,
        min: 0,
        stroke: "#ffa600",
        strokeWidth: 1,
        width: 32,
      };

      peity.defaults.bar = {
        delimiter: ",",
        fill: ["#4d89f9"],
        height: 16,
        max: null,
        min: 0,
        padding: 0.1,
        width: 32,
      };

      document.querySelectorAll(".line").forEach((e) => peity(e, "line"));
      document.querySelectorAll(".pie").forEach((e) => peity(e, "pie"));
      document.querySelectorAll(".donut").forEach((e) => peity(e, "donut"));
      document.querySelectorAll(".bar").forEach((e) => peity(e, "bar"));
      document
        .querySelectorAll(".data-attributes span")
        .forEach((e) => peity(e, "pie"));

      document.querySelectorAll(".bar-colours-1").forEach((e) =>
        peity(e, "bar", {
          fill: ["red", "green", "blue"],
        })
      );

      document.querySelectorAll(".bar-colours-2").forEach((e) =>
        peity(e, "bar", {
          fill: function (value) {
            return value > 0 ? "green" : "red";
          },
        })
      );

      document.querySelectorAll(".bar-colours-3").forEach((e) =>
        peity(e, "bar", {
          fill: function (_, i, all) {
            var g = parseInt((i / all.length) * 255);
            return "rgb(255, " + g + ", 0)";
          },
        })
      );

      document.querySelectorAll(".pie-colours-1").forEach((e) =>
        peity(e, "bar", {
          fill: ["cyan", "magenta", "yellow", "black"],
        })
      );

      document.querySelectorAll(".pie-colours-2").forEach((e) =>
        peity(e, "bar", {
          fill: function (_, i, all) {
            var g = parseInt((i / all.length) * 255);
            return "rgb(255, " + g + ", 0)";
          },
        })
      );

      var updatingChart = document.getElementById("updating-chart");
      peity(updatingChart, "line", { width: 64 });

      setInterval(function () {
        var random = Math.round(Math.random() * 10);
        var values = updatingChart.innerText.split(",");
        values.shift();
        values.push(random);

        updatingChart.innerText = values.join(",");
      }, 1000);
    </script>
  </body>
</html>
